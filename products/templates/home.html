{% extends "base.html" %}

{% block title_content %}
  <title>Mercadinho X — Home</title>
{% endblock title_content %}

{% block content %}
<style>
  /* HERO */
    .hero{
      display:flex;
      gap:48px;
      align-items:center;
      padding:42px;
      background:white;
      border-radius:var(--radius);
      box-shadow:var(--shadow);
    }
    .hero-left{
      flex:1;
      min-width:360px;
    }
    .eyebrow{
      color:var(--muted);
      font-weight:600;
      font-size:13px;
      margin-bottom:12px;
      text-transform:uppercase;
      letter-spacing:0.08em;
    }
    .hero h1{
      margin:0 0 18px 0;
      font-size:54px;
      line-height:1.02;
      letter-spacing:-0.02em;
      color:#0b1220;
    }
    .hero p.lead{
      margin:0 0 24px 0;
      color:var(--muted);
      font-size:18px;
      max-width:540px;
    }
    .btn{
      display:inline-block;
      background:var(--accent);
      color:white;
      padding:14px 22px;
      border-radius:10px;
      text-decoration:none;
      font-weight:600;
      box-shadow: 0 6px 18px rgba(46,139,58,0.18);
    }

    .hero-right{
      width:420px;
      display:flex;
      justify-content:center;
      align-items:center;
    }
    .hero-right img{
      max-width: 80%;
      height:auto;
      border-radius:10px;
      object-fit:cover;
      /* box-shadow: 0 8px 30px rgba(15,23,42,0.08); */
      /* background:linear-gradient(180deg,#fff,#f8fff9); */
    }

    /* FEATURED */
    .section{
      margin-top:36px;
    }
    .section h2{
      margin:28px 0;
      font-size:28px;
      font-weight:700;
      text-align:center;
    }

    .products{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:20px;
      margin-top:16px;
    }
    .card{
      background:var(--card-bg);
      border-radius:14px;
      padding:18px;
      text-align:center;
      box-shadow: 0 6px 18px rgba(10,12,20,0.04);
      border: 1px solid rgba(15,23,42,0.04);
    }
    .card a {
      text-decoration: none;
      color:var(--muted);
    }
    .card img{
      width:120px;
      height:120px;
      object-fit:contain;
      margin-bottom:10px;
    }
    .card .title{
      font-weight:600;
      margin-bottom:6px;
    }
    .card .price{
      color:var(--muted);
      font-weight:600;
    }
</style>

<section class="hero" aria-labelledby="hero-title">
  <div class="hero-left">
    <div class="eyebrow">Bem-vindo</div>
    <h1 id="hero-title">Bem Vindo ao<br/>Mercadinho X</h1>
    <p class="lead">Sua mercearia online para todas as suas necessidades diárias. Produtos frescos, entrega rápida e preços justos.</p>
    <a class="btn" href="{% url 'products_list' %}">Comprar agora</a>
  </div>

  <div class="hero-right" aria-hidden="true">
    <img src="/media/grocery_basket.png" alt="Cesta com frutas e verduras — Mercadinho X">
  </div>
</section>

<section class="section" id="products" aria-labelledby="featured-title">
  <h2 id="featured-title">Produtos em Destaque</h2>

  <div class="products" role="list">
    {% for product in products  %}
      <article class="card" role="listitem" aria-label="{{ product.name}}">
        <a href="{% url 'product_detail' product.pk product.bar_code %}">
            {% if product.photo %}
              <img src="{{ product.photo.url }}" alt="product.name">
            {% else %}
              <img src="https://www.pplider.com.br/image/no_image.jpg" alt="{{ product.name }}">
            {% endif %}
            <div class="title">{{ product.name }}</div>
        </a>
        <div class="price">R${{ product.price|floatformat:2 }}</div>
      </article>
    {% endfor %}
  </div>
</section>

{% endblock content %}